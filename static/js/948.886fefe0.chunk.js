"use strict";(self.webpackChunkhealth=self.webpackChunkhealth||[]).push([[948],{928:(e,t,a)=>{a.d(t,{A:()=>C});a(5043);var s=a(9657),i=a(6752),l=a(6276),o=a(9095);const r="LoginStatistics_resultsCont__bSZ00",d="LoginStatistics_statisticCont__W4sUJ",n="LoginStatistics_resultsToday__5XOvn",c="LoginStatistics_statisticList__-K1dG",u="LoginStatistics_statisticListItem__jwFY5",m="LoginStatistics_statisticListItemSpan__5hv5z",h="LoginStatistics_notRecommendedCont__AujTB",_="LoginStatistics_notRecommendedTitle__xTGyK",p="LoginStatistics_notRecommendedList__H-Mel",g="LoginStatistics_notRecommendedEmpty__2+pc3",x="LoginStatistics_statisticSuperCont__yyZZY",y="LoginStatistics_notRecommendedListItem__0vXlq";var j=a(579);const v="(min-width:1024px)";const C=function(e){var t,a;let{day:C}=e;const N=(0,s.Ub)({query:v}),{user:S}=(0,l.A)(),{dailyCalorieSummary:P}=(0,o.d)();return/^\d{2}.\d{2}.\d{4}$/.test(C)||console.error(`Invalid date format: ${C}. Expected dd.mm.yyyy.`),(0,j.jsxs)("div",{className:r,children:[N&&(0,j.jsx)(i.A,{}),(0,j.jsxs)("div",{className:x,children:[(0,j.jsxs)("div",{className:d,children:[(0,j.jsxs)("p",{className:n,children:["Summary for ",C]}),(0,j.jsxs)("ul",{className:c,children:[(0,j.jsxs)("li",{className:u,children:[(0,j.jsx)("span",{className:m,children:"Left"}),(0,j.jsxs)("span",{className:m,children:[0!==(null===P||void 0===P?void 0:P.remainingCalories)?P.remainingCalories:"000"," kcal"]})]},"left"),(0,j.jsxs)("li",{className:u,children:[(0,j.jsx)("span",{className:m,children:"Consumed"}),(0,j.jsxs)("span",{className:m,children:[(null===P||void 0===P?void 0:P.totalCaloriesConsumed)>0?P.totalCaloriesConsumed:"000"," kcal"]})]},"consumed"),(0,j.jsxs)("li",{className:u,children:[(0,j.jsx)("span",{className:m,children:"Daily rate"}),(0,j.jsxs)("span",{className:m,children:[(null===P||void 0===P?void 0:P.dailyCalorieIntake)>0?P.dailyCalorieIntake:"000"," kcal"]}),"                    "]},"daily"),(0,j.jsxs)("li",{className:u,children:[(0,j.jsx)("span",{className:m,children:"n% of normal"}),(0,j.jsxs)("span",{className:m,children:[(null===P||void 0===P?void 0:P.percentageCaloriesConsumed)>0?P.percentageCaloriesConsumed:"0"," %"]}),"                    "]},"normal")]})]}),(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("p",{className:_,children:"Food not recommended"}),(null===S||void 0===S||null===(t=S.dietaryInfo)||void 0===t||null===(a=t.restrictedAliments)||void 0===a?void 0:a.length)>0?(0,j.jsx)("ul",{className:p,children:S.dietaryInfo.restrictedAliments.map((e=>(0,j.jsx)("li",{className:y,children:e.title},null===e||void 0===e?void 0:e._id)))}):(0,j.jsx)("p",{className:g,children:"Your diet will be displayed here"})]})]})]})}},9759:(e,t,a)=>{a.d(t,{x:()=>c});var s=a(3003);const i=(0,a(2099).Mz)([e=>e.publicCalculatorSlice],(e=>({height:e.height,age:e.age,currentWeight:e.currentWeight,desiredWeight:e.desiredWeight,bloodGroupIndex:e.bloodGroupIndex}))),l=e=>e.publicCalculatorSlice.result,o=e=>e.publicCalculatorSlice.loading,r=e=>e.publicCalculatorSlice.error,d=e=>e.publicCalculatorSlice.products,n=e=>e.publicCalculatorSlice.product,c=()=>{const e=(0,s.wA)();return{formData:(0,s.d4)(i),isLoading:(0,s.d4)(o),errorPublic:(0,s.d4)(r),result:(0,s.d4)(l),products:(0,s.d4)(d),product:(0,s.d4)(n),dispatch:e}}},1948:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(5043),i=a(9657),l=a(5756),o=a(2952),r=a(9759),d=a(9095),n=a(928),c=a(1968),u=a(5141),m=a(5200);const h={closeButton:"DiaryPage_closeButton__8Wsmh",closeModal:"DiaryPage_closeModal__ukIqj",mobileHeaderCont:"DiaryPage_mobileHeaderCont__a7iJL",modalHeader:"DiaryPage_modalHeader__dhYqf",logoHeaderContainer:"DiaryPage_logoHeaderContainer__2c1f2",mobileSubHeaderCont:"DiaryPage_mobileSubHeaderCont__F4J6z",modalLogoutActionCenter:"DiaryPage_modalLogoutActionCenter__+SKlj",modalUserLogoutCont:"DiaryPage_modalUserLogoutCont__cr6RX",section:"DiaryPage_section__oJsWR",calculatorCont:"DiaryPage_calculatorCont__Y2AJw",diaryPage:"DiaryPage_diaryPage__pKsQy",datePicker:"DiaryPage_datePicker__-j9YO",icon:"DiaryPage_icon__fwz+6",productList:"DiaryPage_productList__6fCMg",productRow:"DiaryPage_productRow__OcvNk",right:"DiaryPage_right__K-opd",name:"DiaryPage_name__+-5vy",errorMessage:"DiaryPage_errorMessage__BqUBO",quantity:"DiaryPage_quantity__41yoN",calories:"DiaryPage_calories__i54n4",delete:"DiaryPage_delete__pdpiB",noProducts:"DiaryPage_noProducts__53aBB",plusButton:"DiaryPage_plusButton__StqeW",leftCont:"DiaryPage_leftCont__yMOEt"},_="DiaryAddForm_inputsContainer__MnraY",p="DiaryAddForm_input__z2hq8",g="DiaryAddForm_name__ocIyW",x="DiaryAddForm_quantity__s0RLX";var y=a(8838),j=a(8387),v=a(579);const C="(max-width: 767px)";const N=function(e){let{searchTerm:t,setSearchTerm:a,filteredProducts:o,quantity:d,setQuantity:n,handleAddProduct:c,handleProductsForSelectedDate:u,date:m}=e;const h=(0,i.Ub)({query:C}),{dispatch:N}=(0,r.x)();return(0,s.useEffect)((()=>{N((0,l.j0)())}),[N]),(0,v.jsxs)("div",{className:_,children:[(0,v.jsx)("input",{className:(0,j.A)(p,g),type:"text",value:t,onChange:e=>a(e.target.value),list:"productList",placeholder:"Search product name *"}),(0,v.jsx)("datalist",{id:"productList",children:o.map((e=>(0,v.jsxs)("option",{value:e.title,children:[" ",e.title]},e._id)))}),(0,v.jsx)("input",{className:(0,j.A)(p,x),type:"number",value:d,onChange:e=>n(e.target.value),placeholder:"Grams *",step:50}),!h&&(0,v.jsx)(y.A,{variant:"plusButton",handleClick:()=>{c(),u(m)},disabled:!m||!t||!d,children:"+"})]})};var S=a(1870),P=a(3003),L=a(3216),b=a(5340),f=a(2923),D=a(6752);const A={mobile:"(max-width: 767px)",tablet:"(min-width:768px)",desktop:"(min-width:1024px)"};function k(){const e=(0,i.Ub)({query:A.mobile}),t=(0,i.Ub)({query:A.tablet}),a=(0,i.Ub)({query:A.desktop}),_=(0,L.Zp)(),p=(0,P.wA)(),{products:g,dispatch:x}=(0,r.x)(),{privateDispatch:j,error:C,consumedProducts:k}=(0,d.d)(),[w,q]=(0,b.A)(!1);(0,s.useEffect)((()=>{w?document.body.classList.add(h.noScroll):document.body.classList.remove(h.noScroll);const e=e=>{"Escape"===e.key&&q()};return document.addEventListener("keydown",e),()=>{document.body.classList.remove(h.noScroll),document.removeEventListener("keydown",e)}}),[w,q]);const B=(new Date).toISOString().split("T")[0],[M,I]=(0,s.useState)(B),[T,H]=(0,s.useState)(""),[E,R]=(0,s.useState)("");(0,s.useEffect)((()=>{0===g.length&&x((0,l.j0)())}),[x,g]),(0,s.useEffect)((()=>{j((0,o.Ys)({date:M}))}),[j,M]),(0,s.useEffect)((()=>{"Not authorized"===C&&setTimeout((()=>_("/login")),2e3)}),[C,_]);const F=Array.isArray(g.data)?g.data.flat():[],U=F.filter((e=>e.title.toLowerCase().includes(T.toLowerCase()))),W=()=>{T&&E&&(j((0,o.G$)({product:T,date:M,quantity:E})),H(""),R(""))};function Y(e){setTimeout((()=>{j((0,o.Ys)({date:e}))}),1e3)}return(0,v.jsxs)("section",{className:h.section,children:[w&&e&&!t&&!a&&(0,v.jsx)("div",{className:h.modalOverlay,children:(0,v.jsx)("div",{className:h.modalContent,children:(0,v.jsxs)(f.A,{closeButton:h.closeButton,handleModalClose:q,isModalVisible:w,children:[e&&(0,v.jsxs)("div",{className:h.mobileHeaderCont,children:[(0,v.jsxs)("header",{className:h.modalHeader,children:[(0,v.jsx)(c.A,{className:h.logoHeaderContainer}),(0,v.jsx)(u.A,{})]}),(0,v.jsxs)("div",{className:h.mobileSubHeaderCont,children:[(0,v.jsx)("button",{onClick:q,className:h.mobileHeaderExitButton,children:(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"9",viewBox:"0 0 15 9",fill:"none",children:(0,v.jsx)("path",{d:"M14 1.5V4.5H2M2 4.5L5.5 1M2 4.5L5.5 8",stroke:"black",strokeWidth:"2"})})}),(0,v.jsx)("div",{className:h.modalUserLogoutCont,children:(0,v.jsx)(D.A,{})})]})]}),(0,v.jsxs)("div",{className:h.modalLogoutActionCenter,children:[(0,v.jsx)(N,{searchTerm:T,setSearchTerm:H,filteredProducts:U,quantity:E,setQuantity:R,handleAddProduct:W,handleProductsForSelectedDate:Y,date:M}),(0,v.jsx)(y.A,{id:"closeModal",handleClick:()=>{q(),W(),Y(M)},children:"Add"})]})]})})}),(0,v.jsxs)("div",{className:h.calculatorCont,children:[a&&(0,v.jsxs)("div",{className:h.leftCont,children:[(0,v.jsx)(c.A,{}),(0,v.jsx)(u.A,{})]}),C&&(0,v.jsx)("div",{className:h.errorMessage,children:"Not authorized"===C?(0,v.jsxs)("div",{className:h.errorMessage,children:[(0,v.jsx)("p",{children:"Your authorisation has expired please retry to :"}),(0,v.jsx)(y.A,{onClick:()=>{p((0,S.je)()),setTimeout((()=>{_("/login")}),500)},className:h.link,to:"/login",children:"Login"})]}):C}),(0,v.jsxs)("div",{className:h.diaryPage,children:[(0,v.jsxs)("div",{className:h.datePicker,children:[(0,v.jsx)("input",{type:"date",value:M,onChange:e=>I(e.target.value),placeholder:"Select Date",max:(new Date).toISOString().split("T")[0],className:"custom-date-picker"}),(0,v.jsx)(m.wIk,{className:h.icon})]}),!e&&(0,v.jsx)(N,{searchTerm:T,setSearchTerm:H,filteredProducts:U,quantity:E,setQuantity:R,handleAddProduct:W,handleProductsForSelectedDate:Y,date:M}),(0,v.jsx)("ul",{className:h.productList,children:k.length>0?k.map(((e,t)=>(0,v.jsxs)("li",{className:h.productRow,children:[(0,v.jsx)("span",{className:h.name,children:null!==e&&void 0!==e&&e.productName?null===e||void 0===e?void 0:e.productName:e.product}),(0,v.jsxs)("div",{className:h.right,children:[(0,v.jsxs)("span",{className:h.quantity,children:[e.quantity,"g"]}),(0,v.jsxs)("span",{className:h.calories,children:[e.calories,"kcal"]}),(0,v.jsx)("button",{className:h.delete,onClick:()=>{((e,t)=>{const a=(e=>{const t=F.find((t=>t.title===e));return t?t._id:null})(e);j((0,o.KQ)({productId:a,date:t})),Y(t)})(e.product,M)},children:"X"})]})]},t))):(0,v.jsx)("p",{className:h.noProducts,children:"There are no products consumed on the selected date !"})}),e&&(0,v.jsx)(y.A,{handleClick:function(){q()},className:h.plusButton,variant:"plusButton",children:"+"})]})]}),(0,v.jsx)(n.A,{day:function(e){const[t,a,s]=e.split("-");return`${s}.${a}.${t}`}(M)})]})}}}]);
//# sourceMappingURL=948.886fefe0.chunk.js.map